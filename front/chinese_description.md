# XISM：可解释·交互式语义地图（eXplanatory-Interactive Semantic Map）

XISM 是一个基于网页的语义地图生成工具，允许用户上传 Excel 文件（形式-功能对应表）以生成交互式语义地图，支持实时编辑与图片导出。更多链接可以访问：https://juniperliuzhu.netlify.app/projects/SMM_demo.html 

## ✨ 功能概览

- 上传 Excel 文件生成语义地图  
- 人工编辑语义地图  
- 交互式图形界面  
- 支持地图质量评估  
- 导出地图为 PNG 图片  

## ✨ 用户指南

### 📁 上传 Excel 文件

在 **Upload Excel File** 模块中，点击 **Choose File** 按钮上传相应的 Excel 文件，然后点击右侧的 **Upload and Generate Graph** 按钮完成上传与生成。

#### 1️⃣ Excel 格式要求

如果 Excel 格式不符合要求，解析可能失败。请确认文件格式满足指定规范！  
您可以点击右下角的 **Download Guide** 按钮下载示例模板。

##### 2️⃣ 数据表（Data Sheet）

数据表必须放置在 Excel 文件的 **第一个 sheet** 中，以进行自动语义地图生成：

- 数据表前两列必须命名为 **languages** 和 **forms**。其中 **languages 列可以留空**，但 **forms 列必须填写**。  
- 表格中必须包含 **至少两个概念（语义单位）**。  
- 表格中必须包含 **至少一个形式（form）**。  
- 仅使用 **1** 标注对应关系，其余默认为 **0**。

##### 3️⃣ Ground Truth（可选）

专家标注的真值表（Ground Truth）必须放置在 Excel 文件的 **第二个 sheet**，用于与人工标注进行语义图质量评估：

- Ground Truth 表反映了专家标注的语义地图的邻接矩阵，其行列名称必须一致，并与数据表中概念顺序完全匹配。  
- 仅使用 **1** 标注关系，其余默认为 **0**。

#### 4️⃣ 示例（Examples）

系统提供三个可直接使用的示例。点击 **ex** 按钮可自动生成对应语义地图。

- **ex.1**：“吃”类词  
  （邓莎莎，《汉语方言中“吃”类词语义地图研究》[D]，四川：四川师范大学，2020。）  
  NOTE: 本文以现代汉民族共同语中的动词“吃”在汉语42种方言中的四种表现形式“吃、喫、食、馌”为研究对象,探讨“吃”类词:吃、喫、食、馌的义项在地域分布上的特点。其语义引申包括“进入”、“理解”、“接受”、非“受、挨”、“欺负”、“贪污”等语义类别。最终语义地图涉及到17种语义。

- **ex.2**：重复副词  
  （郭锐 2010，《副词的补充义与相关义项的语义地图》，中国语言比较与类型学研究国际研讨会，香港科技大学。）  
  NOTE：重复义副词或者补充义副词主要表达一种“重复”(例如：这个电影我**还**要看一遍。)或者“补充”（例如：老师讲完生词**又**讲语法。），然而在跨语言实例中语义发生了多重演变，例如表示“还原”（例如：人死了**还**会活过来吗？）、“更加“（例如：你急呀，我比你还急呢。）等。语义地图涉及了35种方/语言，82个语言形式，18个语义。

- **ex.3**：双及物构式  
  （郭锐 2013，《从语义地图角度看汉语双及物构式》，第21届国际汉语语言学学会年会，台湾师范大学。）  
  NOTE：双及物结构（ditransitive construction），指一个独立动词带两个客体论元成分，语义上涉及物品的转移的结构。典型的双及物结构表示给予义，但不限于给予义。如可以表示取得义（拿了他一本书）、粘附结构（摸了我一手油）、受损结构（打断他一条腿）、放置结构（搁桌上一本书）、受事受益结构（to buy him a book）等。本文考察了汉语中不同的带双及物结构的动词所涉及到的可能的四种双及物结构，包括VN1N2,V给N1N2,	VN2给N1,和给N2VN1。最终的构建了涉及6种方/语言的11种句型结构。

- **Download Guide**：下载 Excel 模板示例

### 🖼️ 图展示（Graph Demonstration）

界面中部展示由算法生成的多张候选语义图，每张图下方均附带评分评价。

### 🪄 图控制（Graph Controls）

**Graph Controls** 模块提供多个交互功能按钮：

#### 1️⃣ 边相关操作（Edge Operations）

- **Add Edge**：点击该按钮，从下拉列表选择两个语义节点并设定权重以添加新边。  
- **Edit Edge**：点击图中现有边，然后点击该按钮设置新的权重以编辑边。  
- **Delete Edge**：点击图上现有边，然后点击该按钮删除该边。  
- **Merge Edge**：自动自下而上添加边，确保形式全连接，并将覆盖率提升至 1。

#### 2️⃣ 美化操作（Beautification Operations）

- **Center**：将当前语义图居中显示，便于整体观察。  
- **Beautify**：重新渲染语义图，生成更灵活的自定义布局。

#### 3️⃣ 地图下载（Map Download）

- **Download Image**：将当前语义地图导出为高清 PNG 图片。

#### 4️⃣ 形式过滤（Form Filtering）

- 点击该按钮并从下拉框选择某一形式，可以高亮显示对应语义节点以观察连通关系。

### 📊 评估指标（Evaluation Metrics）

地图评估包括以下指标：

- **Weight Sum**：边权总和  
- **Degree Mean**：节点度数平均值  
- **Degree Std**：节点度数标准差  
- **Coverage**：已连通形式对全部形式的覆盖率  
- **Productivity**：实际存在形式占所有可能形式的比例  
- **Accuracy**：与专家标注的一致程度  
- **Precision**：预测边中与 Ground Truth 一致的比例  
- **Recall**：Ground Truth 中被正确预测的比例  
- **F1 Score**：Precision 与 Recall 的调和平均数  
- **Unconnected Forms**：当前语义图中未连接的形式，便于进一步修正

### 📩 图片保存（Image Save）

调整语义图后，用户可点击 **Download Image** 按钮下载当前语义地图。

